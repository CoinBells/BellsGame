<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Bells Game</title>

<style>
  body{
    margin:0;
    padding:0;
    background:#f6eccc;
    font-family: monospace;
    overflow:hidden;
  }

  /* شاشة البداية */
  #startScreen{
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:#f6eccc;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    z-index:20;
  }
  #startScreen img{
    width:80%;
    max-width:420px;
  }
  #startBtn{
    margin-top:25px;
    background:#ffcd39;
    color:#000;
    padding:18px 45px;
    font-size:26px;
    border-radius:18px;
    border:none;
    font-weight:bold;
    cursor:pointer;
  }

  /* خلفية اللعبة */
  #gameBg{
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    object-fit:cover;
    z-index:-1;
  }

  /* عداد Bells + الوقت */
  #scoreBox{
    position:fixed;
    top:20px;
    right:20px;
    background:rgba(255,255,255,0.85);
    padding:15px 22px;
    border-radius:20px;
    font-size:21px;
    font-weight:600;
    backdrop-filter:blur(4px);
    z-index:10;
  }

  /* الحقائب */
  .bag{
    position:absolute;
    width:58px;
    height:58px;
    z-index:5;
    transition:transform 0.1s;
  }

  /* رسالة النهاية */
  #popup{
    position:fixed;
    top:50%; left:50%;
    transform:translate(-50%, -50%);
    width:85%;
    max-width:480px;
    background:#0d1117;
    color:#fff;
    padding:28px;
    border-radius:18px;
    display:none;
    box-shadow:0 0 30px rgba(0,0,0,0.5);
    z-index:30;
  }
  #popup button{
    width:100%;
    padding:14px;
    margin-top:16px;
    font-size:20px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    background:#ffcd39;
    font-weight:bold;
    color:#000;
  }

  /* الفوتر */
  #footer{
    position:fixed;
    bottom:15px;
    left:50%;
    transform:translateX(-50%);
    font-size:16px;
    font-weight:bold;
    color:#000;
    padding:6px 14px;
    z-index:10;
  }

</style>
</head>
<body>

<!-- شاشة البداية -->
<div id="startScreen">
  <img src="images/BELLSLOGO.PNG">
  <button id="startBtn">START</button>
</div>

<!-- خلفية اللعبة -->
<img id="gameBg" src="images/TOM.PNG">

<!-- HUD -->
<div id="scoreBox" style="display:none;">
  Bells: <span id="score">0</span> — Time: <span id="timer">5</span>s
</div>

<!-- النتيجة -->
<div id="popup">
  <h2>BellsChain</h2>

  BellsCoin is a Scrypt-based PoW chain with merged mining via LTC & DOGE.<br><br>

  Listed on:<br>
  – Nintondo.io<br>
  – NONKYC.io<br>
  – Gate.io<br>
  – MEXC<br><br>

  <b>Your Performance:</b><br>
  <span id="performance"></span><br><br>

  <button onclick="closePopup()">Close</button>
  <button onclick="restartGame()">Again</button>
</div>

<div id="footer">BY: @AMJ_BTC</div>

<script>
let score = 0;
let timeLeft = 5;
let timerRunning = false;
let timerInterval;

// صوت جاهز عبر Base64
let clickSound = new Audio("data:audio/mp3;base64,//uQxA... (موجود كامل لما نرسل النسخة النهائية) ");

function spawnBag(){
  let img = document.createElement("img");
  img.src = "images/BELLS.PNG";
  img.className = "bag";

  img.style.left = Math.random() * (window.innerWidth - 60) + "px";
  img.style.top = "-80px";

  document.body.appendChild(img);

  let fall = setInterval(()=>{
    img.style.top = (img.offsetTop + 6) + "px";

    if(img.offsetTop > window.innerHeight){
      img.remove();
      clearInterval(fall);
    }
  },20);

  img.onclick = ()=>{
    score++;
    document.getElementById("score").innerText = score;

    img.style.transform = "scale(0.2)";
    setTimeout(()=> img.remove(),120);

    clickSound.cloneNode().play();
  };
}

function startGame(){
  document.getElementById("startScreen").style.display = "none";
  document.getElementById("scoreBox").style.display = "block";

  score = 0;
  timeLeft = 5;
  document.getElementById("score").innerText = 0;
  document.getElementById("timer").innerText = 5;

  timerRunning = true;
  timerInterval = setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").innerText = timeLeft;

    if(timeLeft <= 0){
      endGame();
    }
  },1000);

  setInterval(spawnBag, 350);
}

function endGame(){
  clearInterval(timerInterval);
  timerRunning = false;

  let p = "Weak";
  if(score >= 10) p = "Excellent";
  else if(score >= 5) p = "Good";

  document.getElementById("performance").innerText = p;
  document.getElementById("popup").style.display = "block";
}

function closePopup(){
  document.getElementById("popup").style.display = "none";
}

function restartGame(){
  document.getElementById("popup").style.display = "none";
  startGame();
}

document.getElementById("startBtn").onclick = startGame;
</script>

</body>
</html>
